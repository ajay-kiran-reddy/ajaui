{"ast":null,"code":"var _jsxFileName = \"/Users/ajaykiranreddy/react/heroku/Server/client/src/components/apps/socialNetwork/Profile.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Grid } from \"@material-ui/core\";\nimport \"./snstyle.css\";\nimport SNLandingPage from \"./SNLandingPage\";\nimport { API_URL } from \"../../../reduxModules/constants\";\nimport { connect } from \"react-redux\";\nimport Button from \"@material-ui/core/Button\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport EditIcon from '@material-ui/icons/Edit';\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Slide from \"@material-ui/core/Slide\";\nimport TextField from \"@material-ui/core/TextField\";\nProfile.propTypes = {};\nconst useStyles = makeStyles(theme => ({\n  button: {\n    margin: theme.spacing(1)\n  }\n}));\n\nfunction Profile(props) {\n  const classes = useStyles();\n  const [myPostsData, setMyPostsData] = React.useState();\n  const [open, setOpen] = React.useState(false);\n  const [username, setUserName] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [email, setEmail] = React.useState('');\n  const [profilePic, setProfilePic] = React.useState('');\n  React.useEffect(() => {\n    fetch(API_URL + \"/post/myPosts\", {\n      method: \"GET\",\n      headers: {\n        \"Authorization\": \"Bearer \" + props.jwtToken.userDetails.accessToken\n      }\n    }).then(res => res.json()).then(data => setMyPostsData(data));\n  }, []);\n\n  const handleEditProfile = () => {\n    setOpen(true);\n  };\n\n  const Transition = React.forwardRef(function Transition(props, ref) {\n    return /*#__PURE__*/React.createElement(Slide, Object.assign({\n      direction: \"up\",\n      ref: ref\n    }, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 16\n      }\n    }));\n  });\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handlePhotoChange = e => {\n    setProfilePic(e.target.files[0]);\n  };\n\n  const handlePassword = e => {\n    setPassword(e.target.value);\n  };\n\n  const handleUsername = e => {\n    setUserName(e.target.value);\n  };\n\n  const handleEmailChange = e => {\n    setEmail(e.target.value);\n  };\n\n  const SaveProfileDetails = () => {\n    const data = new FormData();\n    data.append(\"file\", profilePic);\n    data.append(\"upload_preset\", \"AjayUi\");\n    data.append(\"cloud_name\", \"AjayUi\");\n    fetch(\"https://api.cloudinary.com/v1_1/ajaui/image/upload\", {\n      method: \"post\",\n      body: data\n    }).then(res => res.json()).then(data => fetch(`${API_URL}/auth/editProfile/${props.jwtToken.userDetails.user._id}`, {\n      method: \"POST\",\n      body: JSON.stringify({\n        name: username,\n        email: email,\n        password: password,\n        photo: data.url\n      }),\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(data => console.log(data, 'final data')));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, open ? /*#__PURE__*/React.createElement(Dialog, {\n    open: open,\n    TransitionComponent: Transition,\n    onClose: handleClose,\n    \"aria-labelledby\": \"alert-dialog-slide-title\",\n    \"aria-describedby\": \"alert-dialog-slide-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"alert-dialog-slide-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, \"Edit your profile\"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      minWidth: '400px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      width: '100%'\n    },\n    id: \"standard-basic\",\n    label: \"name\",\n    value: username,\n    onChange: handleUsername,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      minWidth: '400px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      width: '100%'\n    },\n    id: \"standard-basic\",\n    label: \"email\",\n    value: email,\n    onChange: handleEmailChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      minWidth: '400px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      width: '100%'\n    },\n    id: \"standard-basic\",\n    label: \"Password\",\n    value: password,\n    onChange: handlePassword,\n    type: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"20px\",\n      marginTop: \"2%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"files\",\n    className: \"Input\",\n    type: \"file\",\n    onChange: e => handlePhotoChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleClose,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 21\n    }\n  }, \"cancel\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: SaveProfileDetails,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }, \"Save\"))) : null, /*#__PURE__*/React.createElement(SNLandingPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profileHeader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"thumbnail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"thumbnailDiv\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: myPostsData && myPostsData.posts[0].postedBy.photo,\n    className: \"thumbnailDiv\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 41\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 9,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profileStats\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"profileName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 41\n    }\n  }, myPostsData && myPostsData.posts[0].postedBy.name), /*#__PURE__*/React.createElement(Button, {\n    style: {\n      marginTop: \"5%\",\n      float: \"right\",\n      width: \"200px\",\n      height: \"50px\",\n      marginLeft: \"2%\"\n    },\n    variant: \"contained\",\n    className: classes.button,\n    startIcon: /*#__PURE__*/React.createElement(EditIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 56\n      }\n    }),\n    onClick: handleEditProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      width: \"200px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 45\n    }\n  }, \"Edit Profile\"))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    style: {\n      textAlign: \"left\",\n      width: \"50%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    className: \"subHeaders\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 41\n    }\n  }, \"Posts\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    className: \"subHeaders\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 41\n    }\n  }, \"Followers\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    className: \"subHeaders\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 41\n    }\n  }, \"Following\")), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    style: {\n      textAlign: \"left\",\n      width: \"50%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    className: \"subHeadersValues\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 41\n    }\n  }, myPostsData && myPostsData.posts.length), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    className: \"subHeadersValues\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 41\n    }\n  }, \"120\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    className: \"subHeadersValues\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 41\n    }\n  }, \"3\")))))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    style: {\n      marginTop: \"3%\",\n      backgroundColor: \"#dae8e2\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 21\n    }\n  }, myPostsData && myPostsData.posts.map((post, index) => {\n    return /*#__PURE__*/React.createElement(Grid, {\n      key: index,\n      item: true,\n      xs: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 36\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      style: {\n        padding: \"20px\",\n        width: \"300px\",\n        height: \"300px\"\n      },\n      src: post.photo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 33\n      }\n    }));\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 17\n    }\n  })));\n}\n\nfunction mapStateToProps(state) {\n  return {\n    jwtToken: state.accessToken\n  };\n}\n\nexport default connect(mapStateToProps)(Profile);","map":{"version":3,"sources":["/Users/ajaykiranreddy/react/heroku/Server/client/src/components/apps/socialNetwork/Profile.jsx"],"names":["React","PropTypes","Grid","SNLandingPage","API_URL","connect","Button","makeStyles","EditIcon","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Slide","TextField","Profile","propTypes","useStyles","theme","button","margin","spacing","props","classes","myPostsData","setMyPostsData","useState","open","setOpen","username","setUserName","password","setPassword","email","setEmail","profilePic","setProfilePic","useEffect","fetch","method","headers","jwtToken","userDetails","accessToken","then","res","json","data","handleEditProfile","Transition","forwardRef","ref","handleClose","handlePhotoChange","e","target","files","handlePassword","value","handleUsername","handleEmailChange","SaveProfileDetails","FormData","append","body","user","_id","JSON","stringify","name","photo","url","console","log","minWidth","width","padding","marginTop","posts","postedBy","float","height","marginLeft","textAlign","length","backgroundColor","map","post","index","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Grid} from \"@material-ui/core\";\nimport \"./snstyle.css\";\nimport SNLandingPage from \"./SNLandingPage\";\nimport {API_URL} from \"../../../reduxModules/constants\";\nimport {connect} from \"react-redux\";\nimport Button from \"@material-ui/core/Button\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport EditIcon from '@material-ui/icons/Edit';\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Slide from \"@material-ui/core/Slide\";\nimport TextField from \"@material-ui/core/TextField\";\n\nProfile.propTypes = {};\n\nconst useStyles = makeStyles((theme) => ({\n    button: {\n        margin: theme.spacing(1),\n    },\n}));\n\nfunction Profile(props) {\n    const classes = useStyles();\n    const [myPostsData, setMyPostsData] = React.useState();\n    const [open, setOpen] = React.useState(false);\n    const [username, setUserName] = React.useState('');\n    const [password, setPassword] = React.useState('');\n    const [email, setEmail] = React.useState('');\n    const [profilePic, setProfilePic] = React.useState('');\n    \n    React.useEffect(() => {\n        fetch(API_URL + \"/post/myPosts\", {\n            method: \"GET\",\n            headers: {\n                \"Authorization\": \"Bearer \" + props.jwtToken.userDetails.accessToken\n            }\n        }).then(res => res.json())\n            .then(data => setMyPostsData(data))\n    }, []);\n    \n    const handleEditProfile = () => {\n        setOpen(true)\n    };\n    \n    const Transition = React.forwardRef(function Transition(props, ref) {\n        return <Slide direction=\"up\" ref={ref} {...props} />;\n    });\n    \n    \n    const handleClose = () => {\n        setOpen(false)\n    };\n    \n    const handlePhotoChange = (e) => {\n        setProfilePic(e.target.files[0])\n    }\n    \n    const handlePassword = (e) => {\n        setPassword(e.target.value)\n    }\n    \n    const handleUsername = (e) => {\n        setUserName(e.target.value)\n    }\n    \n    const handleEmailChange = (e) => {\n        setEmail(e.target.value)\n    }\n    \n    const SaveProfileDetails = () => {\n        const data = new FormData();\n        data.append(\"file\", profilePic);\n        data.append(\"upload_preset\", \"AjayUi\");\n        data.append(\"cloud_name\", \"AjayUi\");\n        fetch(\"https://api.cloudinary.com/v1_1/ajaui/image/upload\", {\n            method: \"post\",\n            body: data\n        })\n            .then(res => res.json())\n            .then(data => fetch(`${API_URL}/auth/editProfile/${props.jwtToken.userDetails.user._id}`, {\n                    method: \"POST\",\n                    body: JSON.stringify({\n                        name: username,\n                        email: email,\n                        password: password,\n                        photo: data.url\n                    }),\n                    headers: {\n                        \"Accept\": \"application/json\",\n                        \"Content-Type\": \"application/json\",\n                    }\n                }).then(res => res.json())\n                    .then(data => console.log(data, 'final data'))\n            )\n    }\n    \n    return (\n        <div>\n            {open ? <Dialog\n                open={open}\n                TransitionComponent={Transition}\n                onClose={handleClose}\n                aria-labelledby=\"alert-dialog-slide-title\"\n                aria-describedby=\"alert-dialog-slide-description\"\n            >\n                <DialogTitle id=\"alert-dialog-slide-title\">{\"Edit your profile\"}</DialogTitle>\n                <DialogContent>\n                    <div style={{minWidth: '400px'}}>\n                        <TextField style={{width: '100%'}} id=\"standard-basic\" label=\"name\" value={username}\n                                   onChange={handleUsername}/>\n                    </div>\n            \n                    <div style={{minWidth: '400px'}}>\n                        <TextField style={{width: '100%'}} id=\"standard-basic\" label=\"email\" value={email}\n                                   onChange={handleEmailChange}/>\n                    </div>\n            \n                    <div style={{minWidth: '400px'}}>\n                        <TextField style={{width: '100%'}} id=\"standard-basic\" label=\"Password\" value={password}\n                                   onChange={handlePassword}\n                                   type='password'/>\n                    </div>\n            \n                    <div style={{padding: \"20px\", marginTop: \"2%\"}}>\n                        <input id=\"files\" className=\"Input\" type=\"file\" onChange={(e) => handlePhotoChange(e)}/>\n                    </div>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose} color=\"primary\">\n                        cancel\n                    </Button>\n                    <Button onClick={SaveProfileDetails} color=\"primary\">\n                        Save\n                    </Button>\n                </DialogActions>\n            </Dialog> : null}\n            \n            <SNLandingPage/>\n            <Grid container spacing={3}>\n                <Grid item xs={2}>\n                </Grid>\n                \n                \n                <Grid item xs={8}>\n                    <div className=\"profileHeader\">\n                        <div className=\"thumbnail\">\n                            <Grid container spacing={3}>\n                                <Grid item xs={3}>\n                                    <div className=\"thumbnailDiv\">\n                                        <img\n                                            src={myPostsData && myPostsData.posts[0].postedBy.photo}\n                                            className=\"thumbnailDiv\"/>\n                                    </div>\n                                </Grid>\n                                \n                                <Grid item xs={9}>\n                                    <div className=\"profileStats\">\n                                        <h3 className=\"profileName\">{myPostsData && myPostsData.posts[0].postedBy.name}</h3>\n                                        <Button\n                                            style={{\n                                                marginTop: \"5%\",\n                                                float: \"right\",\n                                                width: \"200px\",\n                                                height: \"50px\",\n                                                marginLeft: \"2%\"\n                                            }}\n                                            variant=\"contained\"\n                                            className={classes.button}\n                                            startIcon={<EditIcon/>}\n                                            onClick={handleEditProfile}\n                                        >\n                                            <span style={{width: \"200px\"}}>Edit Profile</span>\n                                        </Button>\n                                    </div>\n                                    <Grid container spacing={3} style={{textAlign: \"left\", width: \"50%\"}}>\n                                        <Grid item xs={4} className=\"subHeaders\">Posts</Grid>\n                                        \n                                        <Grid item xs={4} className=\"subHeaders\">Followers</Grid>\n                                        \n                                        <Grid item xs={4} className=\"subHeaders\">Following</Grid>\n                                    </Grid>\n                                    \n                                    <Grid container spacing={3} style={{textAlign: \"left\", width: \"50%\"}}>\n                                        <Grid item xs={4}\n                                              className=\"subHeadersValues\">{myPostsData && myPostsData.posts.length}</Grid>\n                                        \n                                        <Grid item xs={4} className=\"subHeadersValues\">120</Grid>\n                                        \n                                        <Grid item xs={4} className=\"subHeadersValues\">3</Grid>\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                        </div>\n                    </div>\n                    \n                    <Grid container spacing={3} style={{marginTop: \"3%\", backgroundColor: \"#dae8e2\"}}>\n                        {myPostsData && myPostsData.posts.map((post, index) => {\n                            return <Grid key={index} item xs={4}>\n                                <img style={{padding: \"20px\", width: \"300px\", height: \"300px\"}} src={post.photo}/>\n                            </Grid>\n                        })}\n                    \n                    </Grid>\n                </Grid>\n                \n                <Grid item xs={2}>\n                \n                </Grid>\n            \n            </Grid>\n        </div>\n    );\n}\n\nfunction mapStateToProps(state) {\n    return {\n        jwtToken: state.accessToken\n    }\n}\n\nexport default connect(mapStateToProps)(Profile)\n\n"]},"metadata":{},"sourceType":"module"}