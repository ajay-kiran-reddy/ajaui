{"ast":null,"code":"import _slicedToArray from\"/Users/ajaykiranreddy/react/heroku/Server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import TextField from\"@material-ui/core/TextField\";import Typography from\"@material-ui/core/Typography\";import FacebookLogin from\"react-facebook-login/dist/facebook-login-render-props\";import Button from\"@material-ui/core/Button\";import{FaFacebook}from\"react-icons/fa\";import GoogleLogin from\"react-google-login\";import{FcGoogle}from\"react-icons/fc\";import Paper from\"@material-ui/core/Paper\";import{createMuiTheme,makeStyles,withStyles}from\"@material-ui/core/styles\";import history from\"../../utils/history\";import{green}from\"@material-ui/core/colors\";import{showSignUpOrSignIn as _showSignUpOrSignIn,storeAccessToken as _storeAccessToken,StoreLoggedInUserDetails as _StoreLoggedInUserDetails}from\"../../reduxModules/actions\";import{connect}from\"react-redux\";import Snackbar from\"@material-ui/core/Snackbar\";import Alert from\"@material-ui/lab/Alert\";import{PhotoCamera}from\"@material-ui/icons\";import IconButton from\"@material-ui/core/IconButton\";var BootstrapButton=withStyles({root:{boxShadow:'none',width:'100%',textTransform:'none',fontSize:16,padding:'6px 12px',border:'1px solid',lineHeight:1.5,backgroundColor:'#0063cc',background:'linear-gradient(to right, #6699ff 0%, #ff66cc 100%)',borderColor:'#0063cc',fontFamily:['-apple-system','BlinkMacSystemFont','\"Segoe UI\"','Roboto','\"Helvetica Neue\"','Arial','sans-serif','\"Apple Color Emoji\"','\"Segoe UI Emoji\"','\"Segoe UI Symbol\"'].join(','),'&:hover':{backgroundColor:'#0069d9',borderColor:'#0062cc',boxShadow:'none'},'&:active':{boxShadow:'none',backgroundColor:'#0062cc',borderColor:'#005cbf'},'&:focus':{boxShadow:'0 0 0 0.2rem rgba(0,123,255,.5)'}}})(Button);var useStyles=makeStyles(function(theme){return{margin:{marginTop:'10%',margin:theme.spacing(1)},input:{// display: 'none',\n}};});var theme=createMuiTheme({palette:{primary:green}});function SignUp(props){var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),userDetails=_React$useState2[0],setUserDetails=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),username=_React$useState4[0],setUserName=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),password=_React$useState6[0],setPassword=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),email=_React$useState8[0],setEmail=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),openSnackBar=_React$useState10[0],setOpenSnackBar=_React$useState10[1];var _React$useState11=React.useState(''),_React$useState12=_slicedToArray(_React$useState11,2),profilePic=_React$useState12[0],setProfilePic=_React$useState12[1];console.log(profilePic,'profilePic');var handleCloseSnackBar=function handleCloseSnackBar(){setOpenSnackBar(false);};var responseFacebook=function responseFacebook(response){props.StoreLoggedInUserDetails(response);setUserDetails(response);console.log(response);};var responseGoogle=function responseGoogle(response){props.StoreLoggedInUserDetails(response);setUserDetails(response);console.log(response);};var handleUsername=function handleUsername(e){setUserName(e.target.value);};var handleEmailChange=function handleEmailChange(e){setEmail(e.target.value);};var handlePassword=function handlePassword(e){setPassword(e.target.value);};var handleSignUp=function handleSignUp(){var data=new FormData();data.append(\"file\",profilePic);data.append(\"upload_preset\",\"AjayUi\");data.append(\"cloud_name\",\"AjayUi\");fetch(\"https://api.cloudinary.com/v1_1/ajaui/image/upload\",{method:\"post\",body:data}).then(function(res){return res.json();}).then(function(data){return fetch(\"http://localhost:5000/auth/signup\",{method:\"POST\",body:JSON.stringify({name:username,email:email,password:password,photo:data.url}),headers:{\"Accept\":\"application/json\",\"Content-Type\":\"application/json\"}}).then(function(res){return res.json();}).then(function(token){return props.storeAccessToken(token);}).finally(function(){return setOpenSnackBar(true);});});// history.push('/')\n};var routeToLogin=function routeToLogin(){props.showSignUpOrSignIn(true);history.push('/');};var handlePhotoChange=function handlePhotoChange(e){setProfilePic(e.target.files[0]);};var classes=useStyles();console.log(props.accessToken&&props.accessToken.message,'message');return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{padding:\"20px\"}},/*#__PURE__*/React.createElement(\"h3\",null,\"SignUp\"),/*#__PURE__*/React.createElement(\"div\",{style:{minWidth:'400px'}},/*#__PURE__*/React.createElement(TextField,{style:{width:'100%'},id:\"standard-basic\",label:\"name\",value:username,onChange:handleUsername})),/*#__PURE__*/React.createElement(\"div\",{style:{minWidth:'400px'}},/*#__PURE__*/React.createElement(TextField,{style:{width:'100%'},id:\"standard-basic\",label:\"email\",value:email,onChange:handleEmailChange})),/*#__PURE__*/React.createElement(\"div\",{style:{minWidth:'400px'}},/*#__PURE__*/React.createElement(TextField,{style:{width:'100%'},id:\"standard-basic\",label:\"Password\",value:password,onChange:handlePassword,type:\"password\"})),/*#__PURE__*/React.createElement(\"div\",{style:{padding:\"20px\",marginTop:\"2%\"}},/*#__PURE__*/React.createElement(\"input\",{id:\"files\",className:\"Input\",type:\"file\",onChange:function onChange(e){return handlePhotoChange(e);}})),/*#__PURE__*/React.createElement(BootstrapButton,{variant:\"contained\",color:\"primary\",onClick:handleSignUp,className:classes.margin},\"SignUp\"),/*#__PURE__*/React.createElement(Typography,{variant:\"caption\",display:\"block\",gutterBottom:true},\"Already have an account !!! \",/*#__PURE__*/React.createElement(\"span\",{style:{color:\"#4dda30\",fontSize:\"18px\",cursor:\"pointer\"},onClick:routeToLogin},\"Login Here ...!!!\")),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:'4%'}},/*#__PURE__*/React.createElement(\"span\",{style:{color:'gray',fontSize:'12px'}},\"Or Sign up using\"),/*#__PURE__*/React.createElement(\"div\",{style:{marginLeft:\"2%\"}},/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',width:'100%'}},/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:'10px',width:'50%'}},/*#__PURE__*/React.createElement(FacebookLogin,{style:{fontSize:'14px'},appId:\"2671267476235064\"//APP ID NOT CREATED YET\n,fields:\"name,email,picture\",render:function render(renderProps){return/*#__PURE__*/React.createElement(Button,{style:{width:'50px',backgroundColor:'#4267B2',color:'white',height:'40px',fontSize:\"14px\"},onClick:renderProps.onClick},/*#__PURE__*/React.createElement(FaFacebook,{size:'2em'}));},callback:responseFacebook})),/*#__PURE__*/React.createElement(\"div\",{style:{width:'50%'}},/*#__PURE__*/React.createElement(Button,null,/*#__PURE__*/React.createElement(GoogleLogin,{clientId:\"678811344605-9ldaqegvtq8khga70lccdsj32ok1oiis.apps.googleusercontent.com\"//CLIENTID NOT CREATED YET\n,onSuccess:responseGoogle,render:function render(renderProps){return/*#__PURE__*/React.createElement(Button,{style:{width:'50px',backgroundColor:'#fff',border:'1px solid gray',color:'white',height:'40px',fontSize:\"14px\"},onClick:renderProps.onClick},/*#__PURE__*/React.createElement(FcGoogle,{size:'2em'}));},onFailure:responseGoogle}))))))),props.accessToken&&props.accessToken.error?/*#__PURE__*/React.createElement(Snackbar,{open:openSnackBar,autoHideDuration:6000,onClose:handleCloseSnackBar},/*#__PURE__*/React.createElement(Alert,{onClose:handleCloseSnackBar,severity:\"error\"},props.accessToken&&props.accessToken.error)):/*#__PURE__*/React.createElement(Snackbar,{open:openSnackBar,autoHideDuration:6000,onClose:handleCloseSnackBar},/*#__PURE__*/React.createElement(Alert,{onClose:handleCloseSnackBar,severity:\"success\"},props.accessToken&&props.accessToken.message)));}var mapDispatchToProps=function mapDispatchToProps(dispatch){return{dispatch:dispatch,StoreLoggedInUserDetails:function StoreLoggedInUserDetails(payload){return dispatch(_StoreLoggedInUserDetails(payload));},showSignUpOrSignIn:function showSignUpOrSignIn(payload){return dispatch(_showSignUpOrSignIn(payload));},storeAccessToken:function storeAccessToken(payload){return dispatch(_storeAccessToken(payload));}};};function mapStateToProps(state){return{userDetails:state.loggedInUserDetails,signUpOrSignIn:state.signUpOrSignIn,accessToken:state.accessToken};}export default connect(mapStateToProps,mapDispatchToProps)(SignUp);","map":{"version":3,"sources":["/Users/ajaykiranreddy/react/heroku/Server/client/src/components/authentication/SignUp.jsx"],"names":["React","TextField","Typography","FacebookLogin","Button","FaFacebook","GoogleLogin","FcGoogle","Paper","createMuiTheme","makeStyles","withStyles","history","green","showSignUpOrSignIn","storeAccessToken","StoreLoggedInUserDetails","connect","Snackbar","Alert","PhotoCamera","IconButton","BootstrapButton","root","boxShadow","width","textTransform","fontSize","padding","border","lineHeight","backgroundColor","background","borderColor","fontFamily","join","useStyles","theme","margin","marginTop","spacing","input","palette","primary","SignUp","props","useState","userDetails","setUserDetails","username","setUserName","password","setPassword","email","setEmail","openSnackBar","setOpenSnackBar","profilePic","setProfilePic","console","log","handleCloseSnackBar","responseFacebook","response","responseGoogle","handleUsername","e","target","value","handleEmailChange","handlePassword","handleSignUp","data","FormData","append","fetch","method","body","then","res","json","JSON","stringify","name","photo","url","headers","token","finally","routeToLogin","push","handlePhotoChange","files","classes","accessToken","message","minWidth","color","cursor","marginLeft","display","renderProps","height","onClick","error","mapDispatchToProps","dispatch","payload","mapStateToProps","state","loggedInUserDetails","signUpOrSignIn"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\nimport Button from \"@material-ui/core/Button\";\nimport {FaFacebook} from \"react-icons/fa\";\nimport GoogleLogin from \"react-google-login\";\nimport {FcGoogle} from \"react-icons/fc\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {createMuiTheme, makeStyles, withStyles} from \"@material-ui/core/styles\";\nimport history from \"../../utils/history\";\nimport {green} from \"@material-ui/core/colors\";\nimport {showSignUpOrSignIn, storeAccessToken, StoreLoggedInUserDetails} from \"../../reduxModules/actions\";\nimport {connect} from \"react-redux\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport {PhotoCamera} from \"@material-ui/icons\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nconst BootstrapButton = withStyles({\n    root: {\n        boxShadow: 'none',\n        width: '100%',\n        textTransform: 'none',\n        fontSize: 16,\n        padding: '6px 12px',\n        border: '1px solid',\n        lineHeight: 1.5,\n        backgroundColor: '#0063cc',\n        background: 'linear-gradient(to right, #6699ff 0%, #ff66cc 100%)',\n        borderColor: '#0063cc',\n        fontFamily: [\n            '-apple-system',\n            'BlinkMacSystemFont',\n            '\"Segoe UI\"',\n            'Roboto',\n            '\"Helvetica Neue\"',\n            'Arial',\n            'sans-serif',\n            '\"Apple Color Emoji\"',\n            '\"Segoe UI Emoji\"',\n            '\"Segoe UI Symbol\"',\n        ].join(','),\n        '&:hover': {\n            backgroundColor: '#0069d9',\n            borderColor: '#0062cc',\n            boxShadow: 'none',\n        },\n        '&:active': {\n            boxShadow: 'none',\n            backgroundColor: '#0062cc',\n            borderColor: '#005cbf',\n        },\n        '&:focus': {\n            boxShadow: '0 0 0 0.2rem rgba(0,123,255,.5)',\n        },\n    },\n})(Button);\n\nSignUp.propTypes = {};\n\n\nconst useStyles = makeStyles((theme) => ({\n    margin: {\n        marginTop: '10%',\n        margin: theme.spacing(1),\n    },\n    input: {\n        // display: 'none',\n    }\n}));\n\nconst theme = createMuiTheme({\n    palette: {\n        primary: green,\n    },\n});\n\nfunction SignUp(props) {\n    \n    \n    const [userDetails, setUserDetails] = React.useState();\n    const [username, setUserName] = React.useState('');\n    const [password, setPassword] = React.useState('');\n    const [email, setEmail] = React.useState('');\n    const [openSnackBar, setOpenSnackBar] = React.useState(false);\n    const [profilePic,setProfilePic]=React.useState('');\n    \n    console.log(profilePic,'profilePic')\n    \n    const handleCloseSnackBar = () => {\n        setOpenSnackBar(false)\n    }\n    const responseFacebook = (response) => {\n        props.StoreLoggedInUserDetails(response);\n        setUserDetails(response)\n        console.log(response);\n    }\n    \n    const responseGoogle = (response) => {\n        props.StoreLoggedInUserDetails(response);\n        setUserDetails(response)\n        console.log(response);\n    }\n    \n    const handleUsername = (e) => {\n        setUserName(e.target.value)\n    }\n    \n    const handleEmailChange = (e) => {\n        setEmail(e.target.value)\n    }\n    \n    const handlePassword = (e) => {\n        setPassword(e.target.value)\n    }\n    \n    const handleSignUp = () => {\n        const data = new FormData();\n        data.append(\"file\", profilePic);\n        data.append(\"upload_preset\", \"AjayUi\");\n        data.append(\"cloud_name\", \"AjayUi\");\n        fetch(\"https://api.cloudinary.com/v1_1/ajaui/image/upload\", {\n            method: \"post\",\n            body: data\n        })\n            .then(res => res.json())\n            .then(data=> fetch(\"http://localhost:5000/auth/signup\", {\n                method: \"POST\",\n                body: JSON.stringify({\n                    name:username,\n                    email: email,\n                    password: password,\n                    photo:data.url\n                }),\n                headers: {\n                    \"Accept\": \"application/json\",\n                    \"Content-Type\": \"application/json\",\n                }\n            }).then(res => res.json())\n                .then(token => props.storeAccessToken(token))\n                .finally(() => setOpenSnackBar(true)))\n        // history.push('/')\n    }\n    \n    const routeToLogin = () => {\n        props.showSignUpOrSignIn(true);\n        history.push('/')\n    }\n    \n    const handlePhotoChange=(e)=>{\n        setProfilePic(e.target.files[0])\n    }\n    \n    const classes = useStyles();\n    \n    console.log(props.accessToken && props.accessToken.message,'message')\n    \n    return (\n        <div>\n            <div style={{padding: \"20px\"}}>\n                <h3>SignUp</h3>\n                \n                <div style={{minWidth: '400px'}}>\n                    <TextField style={{width: '100%'}} id=\"standard-basic\" label=\"name\" value={username}\n                               onChange={handleUsername}/>\n                </div>\n                \n                <div style={{minWidth: '400px'}}>\n                    <TextField style={{width: '100%'}} id=\"standard-basic\" label=\"email\" value={email}\n                               onChange={handleEmailChange}/>\n                </div>\n                \n                <div style={{minWidth: '400px'}}>\n                    <TextField style={{width: '100%'}} id=\"standard-basic\" label=\"Password\" value={password}\n                               onChange={handlePassword}\n                               type='password'/>\n                </div>\n    \n                <div style={{padding: \"20px\", marginTop: \"2%\"}}>\n                    <input id=\"files\" className=\"Input\" type=\"file\" onChange={(e) => handlePhotoChange(e)}/>\n                </div>\n                <BootstrapButton variant=\"contained\" color=\"primary\"\n                                 onClick={handleSignUp}\n                                 className={classes.margin}>\n                    SignUp\n                </BootstrapButton>\n                \n                <Typography variant=\"caption\" display=\"block\" gutterBottom>\n                    Already have an account !!! <span style={{color: \"#4dda30\", fontSize: \"18px\", cursor: \"pointer\"}}\n                                                      onClick={routeToLogin}\n                >Login Here ...!!!</span>\n                </Typography>\n                \n                <div style={{marginTop: '4%'}}>\n                                    <span style={{color: 'gray', fontSize: '12px'}}>\n                                    Or Sign up using\n                                </span>\n                    \n                    <div style={{marginLeft: \"2%\"}}>\n                        <div style={{display: 'flex', width: '100%'}}>\n                            <div style={{marginTop: '10px', width: '50%'}}>\n                                <FacebookLogin\n                                    style={{fontSize: '14px'}}\n                                    appId=\"2671267476235064\" //APP ID NOT CREATED YET\n                                    fields=\"name,email,picture\"\n                                    render={renderProps => (\n                                        <Button style={{\n                                            width: '50px',\n                                            backgroundColor: '#4267B2',\n                                            color: 'white',\n                                            height: '40px',\n                                            fontSize: \"14px\"\n                                        }} onClick={renderProps.onClick}><FaFacebook\n                                            size={'2em'}/></Button>\n                                    )}\n                                    callback={responseFacebook}\n                                />\n                            </div>\n                            \n                            <div style={{width: '50%'}}>\n                                <Button>\n                                    <GoogleLogin\n                                        clientId=\"678811344605-9ldaqegvtq8khga70lccdsj32ok1oiis.apps.googleusercontent.com\" //CLIENTID NOT CREATED YET\n                                        onSuccess={responseGoogle}\n                                        render={renderProps => (\n                                            <Button style={{\n                                                width: '50px',\n                                                backgroundColor: '#fff',\n                                                border: '1px solid gray',\n                                                color: 'white',\n                                                height: '40px',\n                                                fontSize: \"14px\"\n                                            }} onClick={renderProps.onClick}><FcGoogle\n                                                size={'2em'}/></Button>\n                                        )}\n                                        onFailure={responseGoogle}\n                                    />\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            \n            </div>\n    \n           \n            \n            {(props.accessToken && props.accessToken.error) ? <Snackbar open={openSnackBar} autoHideDuration={6000} onClose={handleCloseSnackBar}>\n                    <Alert onClose={handleCloseSnackBar} severity=\"error\">\n                        {props.accessToken && props.accessToken.error}\n                    </Alert>\n                </Snackbar>\n            : <Snackbar open={openSnackBar} autoHideDuration={6000} onClose={handleCloseSnackBar}>\n                    <Alert onClose={handleCloseSnackBar} severity=\"success\">\n                        {props.accessToken  && props.accessToken.message}\n                    </Alert>\n                </Snackbar>}\n        </div>\n    );\n}\n\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        dispatch,\n        StoreLoggedInUserDetails: (payload) => dispatch(StoreLoggedInUserDetails(payload)),\n        showSignUpOrSignIn: (payload) => dispatch(showSignUpOrSignIn(payload)),\n        storeAccessToken: (payload) => dispatch(storeAccessToken(payload))\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        userDetails: state.loggedInUserDetails,\n        signUpOrSignIn: state.signUpOrSignIn,\n        accessToken:state.accessToken\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);\n\n"]},"metadata":{},"sourceType":"module"}