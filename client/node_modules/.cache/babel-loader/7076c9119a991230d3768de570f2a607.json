{"ast":null,"code":"import _slicedToArray from\"/Users/ajaykiranreddy/react/heroku/Server/ajaui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{Grid}from\"@material-ui/core\";import\"./snstyle.css\";import SNLandingPage from\"./SNLandingPage\";import{API_URL}from\"../../../reduxModules/constants\";import{connect}from\"react-redux\";import Button from\"@material-ui/core/Button\";import makeStyles from\"@material-ui/core/styles/makeStyles\";import EditIcon from'@material-ui/icons/Edit';var useStyles=makeStyles(function(theme){return{button:{margin:theme.spacing(1)}};});function UserProfile(props){var classes=useStyles();var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),myPostsData=_React$useState2[0],setMyPostsData=_React$useState2[1];React.useEffect(function(){fetch(API_URL+\"/users/\".concat(props.selectedUserProfileId),{method:\"GET\",headers:{\"Authorization\":\"Bearer \"+props.jwtToken.userDetails.accessToken}}).then(function(res){return res.json();}).then(function(data){return setMyPostsData(data);});},[]);var handleFollowButton=function handleFollowButton(followId){fetch(API_URL+\"/users/follow\",{method:\"PUT\",body:JSON.stringify({followId:followId}),headers:{\"Accept\":\"application/json\",\"Content-type\":\"application/json\",\"Authorization\":props.jwtToken.userDetails.accessToken}}).then(function(res){return res.json();}).then(function(data){return console.log(data);}).catch(function(err){return console.log(err);});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(SNLandingPage,null),myPostsData&&/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:2}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:8},/*#__PURE__*/React.createElement(\"div\",{className:\"profileHeader\"},/*#__PURE__*/React.createElement(\"div\",{className:\"thumbnail\"},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:3},/*#__PURE__*/React.createElement(\"div\",{className:\"thumbnailDiv\"},/*#__PURE__*/React.createElement(\"img\",{src:myPostsData.user.photo,className:\"thumbnailDiv\"}))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:9},/*#__PURE__*/React.createElement(\"div\",{className:\"profileStats\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"profileName\"},myPostsData&&myPostsData.posts[0].postedBy.name),/*#__PURE__*/React.createElement(Button,{style:{marginTop:\"5%\",float:\"right\",width:\"200px\",height:\"50px\",marginLeft:\"2%\"},variant:\"contained\"// color=\"secondary\"\n,className:classes.button,startIcon:/*#__PURE__*/React.createElement(EditIcon,null)},myPostsData.posts[0].postedBy._id===props.jwtToken.userDetails.user._id?/*#__PURE__*/React.createElement(\"span\",{style:{width:\"200px\"}},\"Edit Profile \"):/*#__PURE__*/React.createElement(\"span\",{style:{width:\"200px\"},onClick:function onClick(){return handleFollowButton(myPostsData.posts[0].postedBy._id);}},\"Follow\"))),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3,style:{textAlign:\"left\",width:\"50%\"}},/*#__PURE__*/React.createElement(Grid,{item:true,xs:4,className:\"subHeaders\"},\"Posts\"),/*#__PURE__*/React.createElement(Grid,{item:true,xs:4,className:\"subHeaders\"},\"Followers\"),/*#__PURE__*/React.createElement(Grid,{item:true,xs:4,className:\"subHeaders\"},\"Following\")),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3,style:{textAlign:\"left\",width:\"50%\"}},/*#__PURE__*/React.createElement(Grid,{item:true,xs:4,className:\"subHeadersValues\"},myPostsData&&myPostsData.posts.length),/*#__PURE__*/React.createElement(Grid,{item:true,xs:4,className:\"subHeadersValues\"},\"120\"),/*#__PURE__*/React.createElement(Grid,{item:true,xs:4,className:\"subHeadersValues\"},\"3\")))))),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3,style:{marginTop:\"3%\",backgroundColor:\"#dae8e2\"}},myPostsData&&myPostsData.posts.map(function(post,index){return/*#__PURE__*/React.createElement(Grid,{key:index,item:true,xs:4},/*#__PURE__*/React.createElement(\"img\",{style:{padding:\"20px\",width:\"300px\",height:\"300px\"},src:post.photo}));}))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:2})));}function mapStateToProps(state){return{jwtToken:state.accessToken,selectedUserProfileId:state.SelectedUserProfileId};}export default connect(mapStateToProps)(UserProfile);","map":{"version":3,"sources":["/Users/ajaykiranreddy/react/heroku/Server/ajaui/src/components/apps/socialNetwork/UserProfile.jsx"],"names":["React","Grid","SNLandingPage","API_URL","connect","Button","makeStyles","EditIcon","useStyles","theme","button","margin","spacing","UserProfile","props","classes","useState","myPostsData","setMyPostsData","useEffect","fetch","selectedUserProfileId","method","headers","jwtToken","userDetails","accessToken","then","res","json","data","handleFollowButton","followId","body","JSON","stringify","console","log","catch","err","user","photo","posts","postedBy","name","marginTop","float","width","height","marginLeft","_id","textAlign","length","backgroundColor","map","post","index","padding","mapStateToProps","state","SelectedUserProfileId"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Grid} from \"@material-ui/core\";\nimport \"./snstyle.css\";\nimport SNLandingPage from \"./SNLandingPage\";\nimport {API_URL} from \"../../../reduxModules/constants\";\nimport {connect} from \"react-redux\";\nimport Button from \"@material-ui/core/Button\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport EditIcon from '@material-ui/icons/Edit';\n\nUserProfile.propTypes = {};\n\nconst useStyles = makeStyles((theme) => ({\n    button: {\n        margin: theme.spacing(1),\n    },\n}));\n\nfunction UserProfile(props) {\n    const classes = useStyles();\n    const [myPostsData, setMyPostsData] = React.useState();\n    \n    React.useEffect(() => {\n        fetch(API_URL + `/users/${props.selectedUserProfileId}`, {\n            method: \"GET\",\n            headers: {\n                \"Authorization\": \"Bearer \" + props.jwtToken.userDetails.accessToken\n            }\n        }).then(res => res.json())\n            .then(data => setMyPostsData(data))\n    }, [])\n    \n    const handleFollowButton=(followId)=>{\n        fetch(API_URL+`/users/follow`,{\n            method:\"PUT\",\n            body:JSON.stringify({\n                followId\n            }),\n            headers:{\n                \"Accept\":\"application/json\",\n                \"Content-type\":\"application/json\",\n                \"Authorization\":props.jwtToken.userDetails.accessToken\n            }\n        }).then(res=>res.json())\n            .then(data=>console.log(data))\n            .catch(err=>console.log(err))\n    }\n    return (\n        <div>\n            <SNLandingPage/>\n            {myPostsData &&\n            <Grid container spacing={3}>\n                <Grid item xs={2}>\n                \n                </Grid>\n                \n                <Grid item xs={8}>\n                    \n                    <div className=\"profileHeader\">\n                        <div className=\"thumbnail\">\n                            <Grid container spacing={3}>\n                                <Grid item xs={3}>\n                                    <div className=\"thumbnailDiv\">\n                                        <img\n                                            src={myPostsData.user.photo}\n                                            className=\"thumbnailDiv\"/>\n                                    </div>\n                                </Grid>\n                                \n                                <Grid item xs={9}>\n                                    <div className=\"profileStats\">\n                                        <h3 className=\"profileName\">{myPostsData && myPostsData.posts[0].postedBy.name}</h3>\n                                        <Button\n                                            style={{\n                                                marginTop: \"5%\",\n                                                float: \"right\",\n                                                width: \"200px\",\n                                                height: \"50px\",\n                                                marginLeft: \"2%\"\n                                            }}\n                                            variant=\"contained\"\n                                            // color=\"secondary\"\n                                            className={classes.button}\n                                            startIcon={<EditIcon/>}\n                                        >\n                                            \n                                            {myPostsData.posts[0].postedBy._id === props.jwtToken.userDetails.user._id ?\n                                                <span style={{width: \"200px\"}}>Edit Profile </span> :\n                                                <span style={{width: \"200px\"}}\n                                                      onClick={() => handleFollowButton(myPostsData.posts[0].postedBy._id)}>Follow</span>}\n                                        \n                                        </Button>\n                                    </div>\n                                    <Grid container spacing={3} style={{textAlign: \"left\", width: \"50%\"}}>\n                                        <Grid item xs={4} className=\"subHeaders\">Posts</Grid>\n                                        \n                                        <Grid item xs={4} className=\"subHeaders\">Followers</Grid>\n                                        \n                                        <Grid item xs={4} className=\"subHeaders\">Following</Grid>\n                                    </Grid>\n                                    \n                                    <Grid container spacing={3} style={{textAlign: \"left\", width: \"50%\"}}>\n                                        <Grid item xs={4}\n                                              className=\"subHeadersValues\">{myPostsData && myPostsData.posts.length}</Grid>\n                                        \n                                        <Grid item xs={4} className=\"subHeadersValues\">120</Grid>\n                                        \n                                        <Grid item xs={4} className=\"subHeadersValues\">3</Grid>\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                        </div>\n                    </div>\n                    \n                    <Grid container spacing={3} style={{marginTop: \"3%\", backgroundColor: \"#dae8e2\"}}>\n                        {myPostsData && myPostsData.posts.map((post, index) => {\n                            return <Grid key={index} item xs={4}>\n                                <img style={{padding: \"20px\", width: \"300px\", height: \"300px\"}} src={post.photo}/>\n                            </Grid>\n                        })}\n                    \n                    </Grid>\n                </Grid>\n                \n                <Grid item xs={2}>\n                \n                </Grid>\n            \n            </Grid>\n            }\n        </div>\n    );\n}\n\nfunction mapStateToProps(state) {\n    return {\n        jwtToken: state.accessToken,\n        selectedUserProfileId: state.SelectedUserProfileId\n    }\n}\n\nexport default connect(mapStateToProps)(UserProfile)\n\n"]},"metadata":{},"sourceType":"module"}