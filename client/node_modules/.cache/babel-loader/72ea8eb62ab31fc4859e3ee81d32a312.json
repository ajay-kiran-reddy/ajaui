{"ast":null,"code":"import _slicedToArray from\"/Users/ajaykiranreddy/react/heroku/Server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import TextField from\"@material-ui/core/TextField\";import Typography from\"@material-ui/core/Typography\";import FacebookLogin from\"react-facebook-login/dist/facebook-login-render-props\";import Button from\"@material-ui/core/Button\";import{FaFacebook}from\"react-icons/fa\";import GoogleLogin from\"react-google-login\";import{FcGoogle}from\"react-icons/fc\";import Paper from\"@material-ui/core/Paper\";import{createMuiTheme,makeStyles,withStyles}from\"@material-ui/core/styles\";import history from\"../../utils/history\";import{green}from\"@material-ui/core/colors\";import{showSignUpOrSignIn as _showSignUpOrSignIn,storeAccessToken as _storeAccessToken,StoreLoggedInUserDetails as _StoreLoggedInUserDetails}from\"../../reduxModules/actions\";import{connect}from\"react-redux\";import Snackbar from\"@material-ui/core/Snackbar\";import MuiAlert from'@material-ui/lab/Alert';var BootstrapButton=withStyles({root:{boxShadow:'none',width:'100%',textTransform:'none',fontSize:16,padding:'6px 12px',border:'1px solid',lineHeight:1.5,backgroundColor:'#0063cc',background:'linear-gradient(to right, #6699ff 0%, #ff66cc 100%)',borderColor:'#0063cc',fontFamily:['-apple-system','BlinkMacSystemFont','\"Segoe UI\"','Roboto','\"Helvetica Neue\"','Arial','sans-serif','\"Apple Color Emoji\"','\"Segoe UI Emoji\"','\"Segoe UI Symbol\"'].join(','),'&:hover':{backgroundColor:'#0069d9',borderColor:'#0062cc',boxShadow:'none'},'&:active':{boxShadow:'none',backgroundColor:'#0062cc',borderColor:'#005cbf'},'&:focus':{boxShadow:'0 0 0 0.2rem rgba(0,123,255,.5)'}}})(Button);var useStyles=makeStyles(function(theme){return{margin:{marginTop:'10%',margin:theme.spacing(1)}};});var theme=createMuiTheme({palette:{primary:green}});function Alert(props){return/*#__PURE__*/React.createElement(MuiAlert,Object.assign({elevation:6,variant:\"filled\"},props));}function Login(props){var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),userDetails=_React$useState2[0],setUserDetails=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),username=_React$useState4[0],setUserName=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),password=_React$useState6[0],setPassword=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),email=_React$useState8[0],setEmail=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),openSnackBar=_React$useState10[0],setOpenSnackBar=_React$useState10[1];var _React$useState11=React.useState(\"\"),_React$useState12=_slicedToArray(_React$useState11,2),snackBarMsgSuccess=_React$useState12[0],setSnackBarMsgSuccess=_React$useState12[1];var _React$useState13=React.useState(\"\"),_React$useState14=_slicedToArray(_React$useState13,2),snackBarMsgFailure=_React$useState14[0],setSnackBarMsgFailure=_React$useState14[1];var responseFacebook=function responseFacebook(response){props.StoreLoggedInUserDetails(response);props.storeAccessToken(response);console.log(response);};var responseGoogle=function responseGoogle(response){props.StoreLoggedInUserDetails(response);setUserDetails(response);console.log(response);};var handleUsername=function handleUsername(e){setUserName(e.target.value);};var handleEmailChange=function handleEmailChange(e){setEmail(e.target.value);};var handlePassword=function handlePassword(e){setPassword(e.target.value);};var routeToHome=function routeToHome(){// props.StoreLoggedInUserDetails('looged in');\nfetch(\"http://localhost:5000/auth/signin\",{method:\"POST\",body:JSON.stringify({email:email,password:password}),headers:{\"Accept\":\"application/json\",\"Content-Type\":\"application/json\"}}).then(function(res){return res.json();}).then(function(token){return props.storeAccessToken(token);}).catch(function(res){return setSnackBarMsgFailure(res.error);}).finally(function(){return setOpenSnackBar(true);});// history.push('/')\n};console.log(snackBarMsgSuccess,'setSnackBarMsgSuccess msg');console.log(snackBarMsgFailure,'setSnackBarMsgFailure msg');console.log(openSnackBar,'open snackbar');var routeToSignUp=function routeToSignUp(){props.showSignUpOrSignIn(false);};var handleCloseSnackBar=function handleCloseSnackBar(){setOpenSnackBar(false);};var classes=useStyles();return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{padding:\"20px\"}},/*#__PURE__*/React.createElement(\"h3\",null,\"Login\"),/*#__PURE__*/React.createElement(\"div\",{style:{minWidth:'400px'}},/*#__PURE__*/React.createElement(TextField,{style:{width:'100%'},id:\"standard-basic\",label:\"Username\",value:email,onChange:handleEmailChange})),/*#__PURE__*/React.createElement(\"div\",{style:{minWidth:'400px'}},/*#__PURE__*/React.createElement(TextField,{style:{width:'100%'},id:\"standard-basic\",label:\"Password\",value:password,onChange:handlePassword,type:\"password\"})),/*#__PURE__*/React.createElement(BootstrapButton,{variant:\"contained\",color:\"primary\",onClick:routeToHome,className:classes.margin},\"Login\"),/*#__PURE__*/React.createElement(Typography,{variant:\"caption\",display:\"block\",gutterBottom:true},\"No Account !!! Want to \",/*#__PURE__*/React.createElement(\"span\",{style:{color:\"#4dda30\",fontSize:\"18px\",cursor:\"pointer\"},onClick:routeToSignUp},\" Sign Up here !!!\")),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:'4%'}},/*#__PURE__*/React.createElement(\"span\",{style:{color:'gray',fontSize:'12px'}},\"Or Sign up using\"),/*#__PURE__*/React.createElement(\"div\",{style:{marginLeft:\"2%\"}},/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',width:'100%'}},/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:'10px',width:'50%'}},/*#__PURE__*/React.createElement(FacebookLogin,{style:{fontSize:'14px'},appId:\"2671267476235064\"//APP ID NOT CREATED YET\n,fields:\"name,email,picture\",render:function render(renderProps){return/*#__PURE__*/React.createElement(Button,{style:{width:'50px',backgroundColor:'#4267B2',color:'white',height:'40px',fontSize:\"14px\"},onClick:renderProps.onClick},/*#__PURE__*/React.createElement(FaFacebook,{size:'2em'}));},callback:responseFacebook})),/*#__PURE__*/React.createElement(\"div\",{style:{width:'50%'}},/*#__PURE__*/React.createElement(Button,null,/*#__PURE__*/React.createElement(GoogleLogin,{clientId:\"678811344605-9ldaqegvtq8khga70lccdsj32ok1oiis.apps.googleusercontent.com\"//CLIENTID NOT CREATED YET\n,onSuccess:responseGoogle,render:function render(renderProps){return/*#__PURE__*/React.createElement(Button,{style:{width:'50px',backgroundColor:'#fff',border:'1px solid gray',color:'white',height:'40px',fontSize:\"14px\"},onClick:renderProps.onClick},/*#__PURE__*/React.createElement(FcGoogle,{size:'2em'}));},onFailure:responseGoogle})))))),props.accessToken&&props.accessToken.userDetails&&props.accessToken.userDetails.accessToken?/*#__PURE__*/React.createElement(Snackbar,{open:openSnackBar,autoHideDuration:6000,onClose:handleCloseSnackBar},/*#__PURE__*/React.createElement(Alert,{onClose:handleCloseSnackBar,severity:\"success\"},\"You are Successfully signed in..!!\")):/*#__PURE__*/React.createElement(Snackbar,{open:openSnackBar,autoHideDuration:6000,onClose:handleCloseSnackBar},/*#__PURE__*/React.createElement(Alert,{onClose:handleCloseSnackBar,severity:\"error\"},props.accessToken&&props.accessToken.error))));}var mapDispatchToProps=function mapDispatchToProps(dispatch){return{dispatch:dispatch,StoreLoggedInUserDetails:function StoreLoggedInUserDetails(payload){return dispatch(_StoreLoggedInUserDetails(payload));},showSignUpOrSignIn:function showSignUpOrSignIn(payload){return dispatch(_showSignUpOrSignIn(payload));},storeAccessToken:function storeAccessToken(payload){return dispatch(_storeAccessToken(payload));}};};function mapStateToProps(state){return{accessToken:state.accessToken};}export default connect(mapStateToProps,mapDispatchToProps)(Login);","map":{"version":3,"sources":["/Users/ajaykiranreddy/react/heroku/Server/client/src/components/authentication/Login.jsx"],"names":["React","TextField","Typography","FacebookLogin","Button","FaFacebook","GoogleLogin","FcGoogle","Paper","createMuiTheme","makeStyles","withStyles","history","green","showSignUpOrSignIn","storeAccessToken","StoreLoggedInUserDetails","connect","Snackbar","MuiAlert","BootstrapButton","root","boxShadow","width","textTransform","fontSize","padding","border","lineHeight","backgroundColor","background","borderColor","fontFamily","join","useStyles","theme","margin","marginTop","spacing","palette","primary","Alert","props","Login","useState","userDetails","setUserDetails","username","setUserName","password","setPassword","email","setEmail","openSnackBar","setOpenSnackBar","snackBarMsgSuccess","setSnackBarMsgSuccess","snackBarMsgFailure","setSnackBarMsgFailure","responseFacebook","response","console","log","responseGoogle","handleUsername","e","target","value","handleEmailChange","handlePassword","routeToHome","fetch","method","body","JSON","stringify","headers","then","res","json","token","catch","error","finally","routeToSignUp","handleCloseSnackBar","classes","minWidth","color","cursor","marginLeft","display","renderProps","height","onClick","accessToken","mapDispatchToProps","dispatch","payload","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\nimport Button from \"@material-ui/core/Button\";\nimport {FaFacebook} from \"react-icons/fa\";\nimport GoogleLogin from \"react-google-login\";\nimport {FcGoogle} from \"react-icons/fc\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {createMuiTheme, makeStyles, withStyles} from \"@material-ui/core/styles\";\nimport history from \"../../utils/history\";\nimport {green} from \"@material-ui/core/colors\";\nimport {showSignUpOrSignIn, storeAccessToken, StoreLoggedInUserDetails} from \"../../reduxModules/actions\";\nimport {connect} from \"react-redux\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from '@material-ui/lab/Alert';\n\nconst BootstrapButton = withStyles({\n    root: {\n        boxShadow: 'none',\n        width: '100%',\n        textTransform: 'none',\n        fontSize: 16,\n        padding: '6px 12px',\n        border: '1px solid',\n        lineHeight: 1.5,\n        backgroundColor: '#0063cc',\n        background: 'linear-gradient(to right, #6699ff 0%, #ff66cc 100%)',\n        borderColor: '#0063cc',\n        fontFamily: [\n            '-apple-system',\n            'BlinkMacSystemFont',\n            '\"Segoe UI\"',\n            'Roboto',\n            '\"Helvetica Neue\"',\n            'Arial',\n            'sans-serif',\n            '\"Apple Color Emoji\"',\n            '\"Segoe UI Emoji\"',\n            '\"Segoe UI Symbol\"',\n        ].join(','),\n        '&:hover': {\n            backgroundColor: '#0069d9',\n            borderColor: '#0062cc',\n            boxShadow: 'none',\n        },\n        '&:active': {\n            boxShadow: 'none',\n            backgroundColor: '#0062cc',\n            borderColor: '#005cbf',\n        },\n        '&:focus': {\n            boxShadow: '0 0 0 0.2rem rgba(0,123,255,.5)',\n        },\n    },\n})(Button);\nLogin.propTypes = {};\n\n\nconst useStyles = makeStyles((theme) => ({\n    margin: {\n        marginTop: '10%',\n        margin: theme.spacing(1),\n    },\n}));\n\nconst theme = createMuiTheme({\n    palette: {\n        primary: green,\n    },\n});\n\n\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nfunction Login(props) {\n    \n    \n    const [userDetails, setUserDetails] = React.useState();\n    const [username, setUserName] = React.useState('');\n    const [password, setPassword] = React.useState('');\n    const [email, setEmail] = React.useState('');\n    const [openSnackBar, setOpenSnackBar] = React.useState(false);\n    const [snackBarMsgSuccess, setSnackBarMsgSuccess] = React.useState(\"\");\n    const [snackBarMsgFailure, setSnackBarMsgFailure] = React.useState(\"\");\n    \n    const responseFacebook = (response) => {\n        props.StoreLoggedInUserDetails(response);\n        props.storeAccessToken(response)\n        console.log(response);\n    }\n    \n    const responseGoogle = (response) => {\n        props.StoreLoggedInUserDetails(response);\n        setUserDetails(response)\n        console.log(response);\n    }\n    \n    const handleUsername = (e) => {\n        setUserName(e.target.value)\n    }\n    \n    const handleEmailChange = (e) => {\n        setEmail(e.target.value)\n    }\n    \n    const handlePassword = (e) => {\n        setPassword(e.target.value)\n    }\n    \n    const routeToHome = () => {\n        // props.StoreLoggedInUserDetails('looged in');\n        fetch(\"http://localhost:5000/auth/signin\", {\n            method: \"POST\",\n            body: JSON.stringify({\n                email: email,\n                password: password\n            }),\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json\",\n            }\n        }).then(res => res.json())\n            .then(token => props.storeAccessToken(token))\n            .catch((res) => setSnackBarMsgFailure(res.error))\n            .finally(() => setOpenSnackBar(true))\n        \n        // history.push('/')\n    }\n    \n    console.log(snackBarMsgSuccess, 'setSnackBarMsgSuccess msg');\n    console.log(snackBarMsgFailure, 'setSnackBarMsgFailure msg');\n    console.log(openSnackBar, 'open snackbar')\n    \n    const routeToSignUp = () => {\n        props.showSignUpOrSignIn(false);\n        \n    }\n    \n    const handleCloseSnackBar = () => {\n        setOpenSnackBar(false)\n    }\n    \n    const classes = useStyles();\n    \n    return (\n        <div>\n            <div style={{padding: \"20px\"}}>\n                <h3>Login</h3>\n                <div style={{minWidth: '400px'}}>\n                    <TextField style={{width: '100%'}} id=\"standard-basic\" label=\"Username\" value={email}\n                               onChange={handleEmailChange}/>\n                </div>\n                \n                <div style={{minWidth: '400px'}}>\n                    <TextField style={{width: '100%'}} id=\"standard-basic\" label=\"Password\" value={password}\n                               onChange={handlePassword}\n                               type='password'/>\n                </div>\n                <BootstrapButton variant=\"contained\" color=\"primary\"\n                                 onClick={routeToHome}\n                                 className={classes.margin}>\n                    Login\n                </BootstrapButton>\n                \n                <Typography variant=\"caption\" display=\"block\" gutterBottom>\n                    No Account !!! Want to <span style={{color: \"#4dda30\", fontSize: \"18px\", cursor: \"pointer\"}}\n                                                 onClick={routeToSignUp}\n                > Sign Up here !!!</span>\n                \n                </Typography>\n                \n                <div style={{marginTop: '4%'}}>\n                                    <span style={{color: 'gray', fontSize: '12px'}}>\n                                    Or Sign up using\n                                </span>\n                    \n                    <div style={{marginLeft: \"2%\"}}>\n                        <div style={{display: 'flex', width: '100%'}}>\n                            <div style={{marginTop: '10px', width: '50%'}}>\n                                <FacebookLogin\n                                    style={{fontSize: '14px'}}\n                                    appId=\"2671267476235064\" //APP ID NOT CREATED YET\n                                    fields=\"name,email,picture\"\n                                    render={renderProps => (\n                                        <Button style={{\n                                            width: '50px',\n                                            backgroundColor: '#4267B2',\n                                            color: 'white',\n                                            height: '40px',\n                                            fontSize: \"14px\"\n                                        }} onClick={renderProps.onClick}><FaFacebook\n                                            size={'2em'}/></Button>\n                                    )}\n                                    callback={responseFacebook}\n                                />\n                            </div>\n                            \n                            <div style={{width: '50%'}}>\n                                <Button>\n                                    <GoogleLogin\n                                        clientId=\"678811344605-9ldaqegvtq8khga70lccdsj32ok1oiis.apps.googleusercontent.com\" //CLIENTID NOT CREATED YET\n                                        onSuccess={responseGoogle}\n                                        render={renderProps => (\n                                            <Button style={{\n                                                width: '50px',\n                                                backgroundColor: '#fff',\n                                                border: '1px solid gray',\n                                                color: 'white',\n                                                height: '40px',\n                                                fontSize: \"14px\"\n                                            }} onClick={renderProps.onClick}><FcGoogle\n                                                size={'2em'}/></Button>\n                                        )}\n                                        onFailure={responseGoogle}\n                                    />\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                {props.accessToken && props.accessToken.userDetails && props.accessToken.userDetails.accessToken ?\n                    <Snackbar open={openSnackBar} autoHideDuration={6000} onClose={handleCloseSnackBar}>\n                        <Alert onClose={handleCloseSnackBar} severity=\"success\">\n                           You are Successfully signed in..!!\n                        </Alert>\n                    </Snackbar>\n                    :\n                    <Snackbar open={openSnackBar} autoHideDuration={6000} onClose={handleCloseSnackBar}>\n                        <Alert onClose={handleCloseSnackBar} severity=\"error\">\n                            {props.accessToken && props.accessToken.error}\n                        </Alert>\n                    </Snackbar>\n                }\n            \n            </div>\n        </div>\n    );\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        dispatch,\n        StoreLoggedInUserDetails: (payload) => dispatch(StoreLoggedInUserDetails(payload)),\n        showSignUpOrSignIn: (payload) => dispatch(showSignUpOrSignIn(payload)),\n        storeAccessToken: (payload) => dispatch(storeAccessToken(payload))\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        accessToken: state.accessToken\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);"]},"metadata":{},"sourceType":"module"}